<body class="h-full bg-neutral-950 text-gray-100 font-sans p-10">

  <div class="bg-neutral-900 border border-zinc-800 rounded-lg shadow-md p-2 px-4 mb-6 flex items-center gap-4">
    <mat-form-field class="w-48">
      <mat-label>Nb of process</mat-label>
      <input matInput type="number" [(ngModel)]="nbOfProcess"
             class="bg-gray-900 text-gray-100 rounded-lg px-3 py-2 focus:outline-none" />
    </mat-form-field>

    <mat-form-field class="w-48">
      <mat-label>Red deepness</mat-label>
      <input matInput type="number" [(ngModel)]="redDeepness"
             class="bg-gray-900 text-gray-100 rounded-lg px-3 py-2 focus:outline-none" />
    </mat-form-field>

    <mat-form-field class="w-48">
      <mat-label>Yellow deepness</mat-label>
      <input matInput type="number" [(ngModel)]="yellowDeepness"
             class="bg-gray-900 text-gray-100 rounded-lg px-3 py-2 focus:outline-none" />
    </mat-form-field>

    <button (click)="startBatch()"
            class="ml-auto bg-neutral-100 text-zinc-800 px-24 py-2 rounded-lg shadow hover:brightness-90 transition">
      Start
    </button>
  </div>

  <div class="bg-neutral-900 border border-zinc-800 rounded-lg shadow-md overflow-x-auto p-4">
    <table class="min-w-full border border-zinc-800 rounded-md divide-y divide-zinc-800 overflow-hidden">
      <tr>
        <th class="px-4 py-2 text-left">Batch UUID</th>
        <th class="px-4 text-left">Status</th>
        <th class="px-4 text-left">Action</th>
      </tr>

      @for (element of (batchesArray$ | async); track element.id) {
        <tr class="hover:bg-neutral-800 transition-colors duration-200">
          <td class="px-4 py-3">{{element.id}}</td>
          <td class="px-4"><app-status-indicator [status]="element.status"></app-status-indicator></td>
          <td class="px-4"><a [routerLink]="['/batches', element.id]" class="underline">More</a></td>
        </tr>
      }
    </table>
  </div>

</body>
